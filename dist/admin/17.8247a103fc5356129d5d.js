(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"4AL8":function(e,t,n){"use strict";n.r(t),n.d(t,"CitiesModule",(function(){return v}));var i=n("ofXK"),a=n("tyNb"),r=n("M9IT"),o=n("lJxs"),s=n("IzEk"),c=n("fXoL"),l=n("DJiP"),d=n("Wp6s"),m=n("bTqV"),p=n("NFeN"),u=n("JhQZ"),h=n("lkLn");const g=function(){return[20,50,100]},f=[{path:"",component:(()=>{class e{constructor(e){this.locationService=e,this.columns=[{title:"id",col:"id"},{title:"Nombre",col:"name"},{title:"Coordenadas",col:"code"},{title:"Provincia ",col:"state"}],this.pageDefault=1,this.perPage=10,this.orden="desc",this.filter="",this.result=this.locationService.resultItems$}paginatorChange(e){console.log(e),this.getCities(e.pageIndex+1,e.pageSize)}ngOnInit(){this.getCities(this.pageDefault,this.perPage,this.filter,this.orden)}getCities(e,t,n,i){this.subcription=this.locationService.getItems(e,t,n,i,"cities").subscribe(e=>this.loadData())}loadData(){this.dataSource=this.result.pipe(Object(o.a)(e=>e.data.data.map(e=>({id:e.id,code:e.code,name:e.name,state:e.province.name,state_id:e.province.id})))),this.totalResut=this.result.pipe(Object(o.a)(e=>e.data.total))}search(e){this.getCities(this.pageDefault,this.perPage,e,this.orden)}openDialog(e){this.locationService.openDialog("cities",e)}itemAction(e){"delete"===e.action&&this.deleteItem(e.element.id).pipe(Object(s.a)(1)).subscribe(e=>console.log(e)),"edit"===e.action&&this.openDialog(e.element)}deleteItem(e){return this.locationService.deleteLocation(e,"cities")}ngOnDestroy(){this.subcription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](l.a))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["mvd-cities"]],viewQuery:function(e,t){var n;1&e&&c["\u0275\u0275staticViewQuery"](r.a,!0),2&e&&c["\u0275\u0275queryRefresh"](n=c["\u0275\u0275loadQuery"]())&&(t.paginator=n.first)},decls:26,vars:11,consts:[[1,"card","mat-elevation-z16","animate__animated","animate__slideInRight"],[1,"actions"],["mat-flat-button","","color","primary",3,"click"],[1,"material-icons-round"],["mat-flat-button","","color","",1,"btn-simple"],[3,"noteFilterBy","changeSearch"],[3,"columns","dataSource","actionChange"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page"],[1,"border"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-card",0),c["\u0275\u0275elementStart"](1,"mat-card-header"),c["\u0275\u0275elementStart"](2,"mat-card-title"),c["\u0275\u0275text"](3,"Ciudades"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"mat-card-subtitle"),c["\u0275\u0275text"](5,"Administrar Ciudad"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"div",1),c["\u0275\u0275elementStart"](7,"button",2),c["\u0275\u0275listener"]("click",(function(){return t.openDialog()})),c["\u0275\u0275elementStart"](8,"mat-icon",3),c["\u0275\u0275text"](9,"add"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](10," Crear "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"button",4),c["\u0275\u0275elementStart"](12,"mat-icon",3),c["\u0275\u0275text"](13,"print"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](14," Imprimir "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"button",4),c["\u0275\u0275elementStart"](16,"mat-icon",3),c["\u0275\u0275text"](17,"save_alt"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](18," Exportar "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](19,"mvd-input-search",5),c["\u0275\u0275listener"]("changeSearch",(function(e){return t.search(e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](20,"mat-card-content"),c["\u0275\u0275elementStart"](21,"mvd-data-table",6),c["\u0275\u0275listener"]("actionChange",(function(e){return t.itemAction(e)})),c["\u0275\u0275pipe"](22,"async"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](23,"mat-paginator",7),c["\u0275\u0275listener"]("page",(function(e){return t.paginatorChange(e)})),c["\u0275\u0275pipe"](24,"async"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](25,"span",8),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](19),c["\u0275\u0275property"]("noteFilterBy","Filtra por Nombre, Id o Coordenadas"),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("columns",t.columns)("dataSource",c["\u0275\u0275pipeBind1"](22,6,t.dataSource)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("length",c["\u0275\u0275pipeBind1"](24,8,t.totalResut))("pageSize",t.perPage)("pageSizeOptions",c["\u0275\u0275pureFunction0"](10,g)))},directives:[d.a,d.c,d.f,d.e,m.b,p.a,u.a,d.b,h.a,r.a],pipes:[i.b],styles:[""]}),e})()}];let S=(()=>{class e{}return e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.f.forChild(f)],a.f]}),e})();var b=n("PCNd");let v=(()=>{class e{}return e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,S,b.a]]}),e})()}}]);